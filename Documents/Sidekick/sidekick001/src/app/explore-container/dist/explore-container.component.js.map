{"version":3,"sources":["explore-container.component.ts"],"names":[],"mappings":"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","file":"explore-container.component.js","sourcesContent":["import { Component, OnInit, Input } from \"@angular/core\";\nimport { CallLog } from \"@ionic-native/call-log/ngx\";\n\n@Component({\n  selector: \"app-explore-container\",\n  templateUrl: \"./explore-container.component.html\",\n  styleUrls: [\"./explore-container.component.scss\"],\n})\nexport class ExploreContainerComponent implements OnInit {\n  @Input() name: string;\n\n  constructor(private callLog: CallLog) {}\n\n  ngOnInit() {}\n}\n\nexport class HomePage {\n  filters: CallLogObject[];\n  recordsFound: any;\n  recordsFoundText: string;\n  listTyle: string;\n\n  constructor(\n    private callLog: CallLog,\n    private callNumber: CallNumber,\n    private platform: Platform\n  ) {\n    this.platform.ready().then(() => {\n      this.callLog\n        .hasReadPermission()\n        .then((hasPermission) => {\n          if (!hasPermission) {\n            this.callLog\n              .requestReadPermission()\n              .then((results) => {\n                this.getContacts(\"type\", \"1\", \"==\");\n              })\n              .catch((e) =>\n                alert(\" requestReadPermission \" + JSON.stringify(e))\n              );\n          } else {\n            this.getContacts(\"type\", \"1\", \"==\");\n          }\n        })\n        .catch((e) => alert(\" hasReadPermission \" + JSON.stringify(e)));\n    });\n  }\n\n  getContacts(name, value, operator) {\n    if (value == \"1\") {\n      this.listTyle = \"Incoming Calls from yesterday\";\n    } else if (value == \"2\") {\n      this.listTyle = \"Ougoing Calls from yesterday\";\n    } else if (value == \"5\") {\n      this.listTyle = \"Rejected Calls from yesterday\";\n    }\n\n    //Getting Yesterday Time\n    var today = new Date();\n    var yesterday = new Date(today);\n    yesterday.setDate(today.getDate() - 1);\n    var fromTime = yesterday.getTime();\n\n    this.filters = [\n      {\n        name: name,\n        value: value,\n        operator: operator,\n      },\n      {\n        name: \"date\",\n        value: fromTime.toString(),\n        operator: \">=\",\n      },\n    ];\n    this.callLog\n      .getCallLog(this.filters)\n      .then((results) => {\n        this.recordsFoundText = JSON.stringify(results);\n        this.recordsFound = results; //JSON.stringify(results);\n      })\n      .catch((e) => alert(\" LOG \" + JSON.stringify(e)));\n  }\n\n  callThisNumber(number) {\n    this.callNumber\n      .callNumber(number, true)\n      .then((res) => console.log(\"Launched dialer!\", res))\n      .catch((err) => console.log(\"Error launching dialer\", err));\n  }\n}\n"]}