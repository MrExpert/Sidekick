{"version":3,"sources":["explore-container.component.ts"],"names":["core_1","require","ExploreContainerComponent","callLog","this","prototype","ngOnInit","__decorate","Input","Component","selector","templateUrl","styleUrls","exports","HomePage","callNumber","platform","_this","ready","then","hasReadPermission","hasPermission","getContacts","requestReadPermission","results","e","alert","JSON","stringify","name","value","operator","listTyle","today","Date","yesterday","setDate","getDate","fromTime","getTime","filters","toString","getCallLog","recordsFoundText","recordsFound","callThisNumber","number","res","console","log","err"],"mappings":"6YAAA,IAAAA,OAAAC,QAAA,iBAQAC,0BAAA,WAGE,SAAAA,EAAoBC,GAAAC,KAAAD,QAAAA,EAGtB,OADED,EAAAG,UAAAC,SAAA,aAJSC,WAAA,CAARP,OAAAQ,6BADUN,EAAyBK,WAAA,CALrCP,OAAAS,UAAU,CACTC,SAAU,wBACVC,YAAa,qCACbC,UAAW,CAAC,yCAEDV,GAAb,GAAaW,QAAAX,0BAAAA,0BAQb,IAAAY,SAAA,WAME,SAAAA,EACUX,EACAY,EACAC,GAHV,IAAAC,EAAAb,KACUA,KAAAD,QAAAA,EACAC,KAAAW,WAAAA,EACAX,KAAAY,SAAAA,EAERZ,KAAKY,SAASE,QAAQC,KAAK,WACzBF,EAAKd,QACFiB,oBACAD,KAAK,SAACE,GACAA,EAUHJ,EAAKK,YAAY,OAAQ,IAAK,MAT9BL,EAAKd,QACFoB,wBACAJ,KAAK,SAACK,GACLP,EAAKK,YAAY,OAAQ,IAAK,QAE1B,MAAC,SAACG,GACN,OAAAC,MAAM,0BAA4BC,KAAKC,UAAUH,QAMnD,MAAC,SAACA,GAAM,OAAAC,MAAM,sBAAwBC,KAAKC,UAAUH,QA8CnE,OA1CEX,EAAAT,UAAAiB,YAAA,SAAYO,EAAMC,EAAOC,GAAzB,IAAAd,EAAAb,KACe,KAAT0B,EACF1B,KAAK4B,SAAW,gCACE,KAATF,EACT1B,KAAK4B,SAAW,+BACE,KAATF,IACT1B,KAAK4B,SAAW,iCAIlB,IAAIC,EAAQ,IAAIC,KACZC,EAAY,IAAID,KAAKD,GACzBE,EAAUC,QAAQH,EAAMI,UAAY,GACpC,IAAIC,EAAWH,EAAUI,UAEzBnC,KAAKoC,QAAU,CACb,CACEX,KAAMA,EACNC,MAAOA,EACPC,SAAUA,GAEZ,CACEF,KAAM,OACNC,MAAOQ,EAASG,WAChBV,SAAU,OAGd3B,KAAKD,QACFuC,WAAWtC,KAAKoC,SAChBrB,KAAK,SAACK,GACLP,EAAK0B,iBAAmBhB,KAAKC,UAAUJ,GACvCP,EAAK2B,aAAepB,IAEhB,MAAC,SAACC,GAAM,OAAAC,MAAM,QAAUC,KAAKC,UAAUH,OAGjDX,EAAAT,UAAAwC,eAAA,SAAeC,GACb1C,KAAKW,WACFA,WAAW+B,GAAQ,GACnB3B,KAAK,SAAC4B,GAAQ,OAAAC,QAAQC,IAAI,mBAAoBF,KACzC,MAAC,SAACG,GAAQ,OAAAF,QAAQC,IAAI,yBAA0BC,MAE5DpC,EA1EA,GAAaD,QAAAC,SAAAA","file":"explore-container.component.min.js","sourcesContent":["import { Component, OnInit, Input } from \"@angular/core\";\nimport { CallLog } from \"@ionic-native/call-log/ngx\";\n\n@Component({\n  selector: \"app-explore-container\",\n  templateUrl: \"./explore-container.component.html\",\n  styleUrls: [\"./explore-container.component.scss\"],\n})\nexport class ExploreContainerComponent implements OnInit {\n  @Input() name: string;\n\n  constructor(private callLog: CallLog) {}\n\n  ngOnInit() {}\n}\n\nexport class HomePage {\n  filters: CallLogObject[];\n  recordsFound: any;\n  recordsFoundText: string;\n  listTyle: string;\n\n  constructor(\n    private callLog: CallLog,\n    private callNumber: CallNumber,\n    private platform: Platform\n  ) {\n    this.platform.ready().then(() => {\n      this.callLog\n        .hasReadPermission()\n        .then((hasPermission) => {\n          if (!hasPermission) {\n            this.callLog\n              .requestReadPermission()\n              .then((results) => {\n                this.getContacts(\"type\", \"1\", \"==\");\n              })\n              .catch((e) =>\n                alert(\" requestReadPermission \" + JSON.stringify(e))\n              );\n          } else {\n            this.getContacts(\"type\", \"1\", \"==\");\n          }\n        })\n        .catch((e) => alert(\" hasReadPermission \" + JSON.stringify(e)));\n    });\n  }\n\n  getContacts(name, value, operator) {\n    if (value == \"1\") {\n      this.listTyle = \"Incoming Calls from yesterday\";\n    } else if (value == \"2\") {\n      this.listTyle = \"Ougoing Calls from yesterday\";\n    } else if (value == \"5\") {\n      this.listTyle = \"Rejected Calls from yesterday\";\n    }\n\n    //Getting Yesterday Time\n    var today = new Date();\n    var yesterday = new Date(today);\n    yesterday.setDate(today.getDate() - 1);\n    var fromTime = yesterday.getTime();\n\n    this.filters = [\n      {\n        name: name,\n        value: value,\n        operator: operator,\n      },\n      {\n        name: \"date\",\n        value: fromTime.toString(),\n        operator: \">=\",\n      },\n    ];\n    this.callLog\n      .getCallLog(this.filters)\n      .then((results) => {\n        this.recordsFoundText = JSON.stringify(results);\n        this.recordsFound = results; //JSON.stringify(results);\n      })\n      .catch((e) => alert(\" LOG \" + JSON.stringify(e)));\n  }\n\n  callThisNumber(number) {\n    this.callNumber\n      .callNumber(number, true)\n      .then((res) => console.log(\"Launched dialer!\", res))\n      .catch((err) => console.log(\"Error launching dialer\", err));\n  }\n}\n"]}